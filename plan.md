# План по созданию Android-приложения CoinMetric

## 1. Общая структура приложения

### 1.1. Архитектура
- Использовать MVVM (Model-View-ViewModel) паттерн
- Использовать Navigation Component для навигации между фрагментами

## 2. Дизайн интерфейса

### 2.1. Цветовая схема
- Основной цвет: #3B82F6 (синий для акцентов)
- Цвет фона: #111827 (темный режим) или #FFFFFF (светлый режим)
- Вторичные цвета:
  - Зеленый: #10B981 (доходы)
  - Красный: #EF4444 (расходы)
  - Фиолетовый: #A855F7
  - Желтый: #EAB308
  - Оранжевый: #F97316

### 2.2. Типографика
- Основной шрифт: Inter (для текста) и Outfit (для заголовков)
- Размеры шрифтов:
  - Заголовки: 24sp, 20sp, 18sp
  - Основной текст: 16sp, 14sp
  - Подписи: 12sp, 10sp

### 2.3. Компоненты интерфейса

#### 2.3.1. Навигационное меню (Bottom Navigation)
- 5 пунктов меню:
  - Главная (иконка дома)
  - Календарь (иконка календаря)
  - Добавить (иконка плюса в круге)
  - Аналитика (иконка графика)
  - Настройки (иконка шестеренки)
- Центральная кнопка "Добавить" выделена и поднята над основным уровнем
- Анимации при выборе элементов

#### 2.3.2. Карточки (Cards)
- Закругленные углы (24dp)
- Тени (shadow)
- Анимации при нажатии (scale)
- Различные размеры в зависимости от контента

#### 2.3.3. Элементы форм
- Поля ввода с закругленными углами
- Выпадающие списки (Spinner/Custom dropdown)
- Переключатели (Switch)
- Кнопки с анимациями (ripple effect)

### 2.4. Анимации
- Плавные переходы между экранами
- Анимации при загрузке данных
- Hover-эффекты (когда применимо)
- Анимации прогресс-баров и диаграмм

## 3. Экраны приложения

### 3.1. Главная страница (Dashboard)
- Отображение общего баланса
- Карточка с общей информацией (доходы/расходы)
- Блок с быстрой статистикой (лимит, расходы в день)
- График тренда расходов (Area Chart)
- Последние транзакции (список с аватарами и категориями)

### 3.2. Экран добавления транзакции
- Поле ввода суммы (калькуляторный ввод)
- Выбор категории из списка
- Поле заметки
- Переключатель "Постоянный платеж"
- Кнопка "Сохранить"

### 3.3. Экран аналитики
- Круговая диаграмма по категориям расходов
- Информация о лимитах по категориям
- Прогресс-бары заполнения лимитов
- Цветовое кодирование превышений

### 3.4. Экран календаря
- Календарь с выделением дней с транзакциями
- Список транзакций по выбранному дню
- Анимации при смене даты

### 3.5. Экран настроек
- Переключатель темы (светлая/темная)
- Блок синхронизации (Google Sync)
- Управление членами семьи
- Настройки подписки
- Настройки безопасности
- Кнопка выхода

## 6. Реализация функциональности

### 6.1. Темная/светлая тема
- Использовать AppCompatDelegate для переключения тем
- Определить стили для обеих тем

### 6.2. Диаграммы
- Использовать MPAndroidChart для отображения графиков
- Реализовать Area Chart для тренда расходов
- Реализовать Pie Chart для аналитики по категориям

### 6.3. Анимации
- Использовать View Animation или Property Animation
- Для сложных анимаций использовать Lottie или собственные анимации

### 6.4. Асинхронные операции
- Использовать Kotlin Coroutines
- Использовать ViewModel и LiveData для обновления UI

## 7. Дополнительные компоненты

### 7.1. Кастомные виджеты
- Калькуляторный ввод для суммы
- Кастомные карточки с эффектами
- Кастомный календарь

### 7.2. Уведомления
- Уведомления о превышении лимита
- Напоминания о постоянных платежах

### 7.3. Синхронизация
- Интеграция с Google Drive или Firebase
- Синхронизация данных между устройств

## 8. Проверка соответствия и старт разработки

### 8.1. Текущее соответствие
- [x] Используется MVVM и ViewModel для управления состоянием
- [x] Навигация между ключевыми экранами уже реализована
- [x] Базовые экраны (Dashboard, Calendar, Add, Analytics, Settings) уже присутствуют
- [x] Переключение темы доступно в настройках
- [x] Для асинхронных операций используется Kotlin Coroutines
- [x] Подготовлена синхронизация через Firebase

### 8.2. Что уже реализовано по приоритетам
- [x] Приведение темы к целевой палитре и типографике (цвета/размеры)
- [x] Улучшение Bottom Navigation: центральная приподнятая кнопка "Добавить"
- [x] Доработка карточек с единым скруглением 24dp и улучшенными состояниями нажатия
- [x] Подготовка аналитических диаграмм (интеграция MPAndroidChart)

### 8.3. Актуальные следующие шаги
1. [x] Разграничить роли (владелец, редактор, просмотр) для управления семейным доступом и операций.
2. [ ] Добавить логирование действий участников (кто и что изменил).
3. [ ] Расширить покрытие тестами (unit + UI) и подготовить CI-проверки.
