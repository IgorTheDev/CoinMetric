# CoinMetric

Android-приложение для семейного планирования бюджета с локальной БД и базовой синхронизацией через Google-аккаунт.

## Что уже сделано

### Базовые функции
- Реализована локальная база данных на Room:
  - категории,
  - участники семьи,
  - транзакции,
  - лимиты по категориям,
  - постоянные платежи.
- Добавлен семейный сценарий использования: хранение и отображение участников с Google email.
- Реализованы категории расходов и месячные лимиты с отображением прогресса в дашборде.
- Добавлены постоянные платежи.
- Добавлено создание транзакций с мини-калькулятором выражений (например, `1200+350/2`).
- В дашборд добавлены регулярные отчёты за неделю и месяц: доходы, расходы, топ-категория и динамика к прошлому периоду.

### Просмотр и аналитика
- Реализован календарный просмотр операций по дням.
- Реализован аналитический дэшборд:
  - доходы,
  - расходы,
  - баланс,
  - расходы по категориям.

### Инфраструктура
- Подключён WorkManager-воркер для периодической синхронизации (пока заглушка).
- Добавлена интеграция с Google Sign-In для определения аккаунта на устройстве.

## Технологический стек
- Kotlin + Jetpack Compose
- Room
- WorkManager
- Google Sign-In

## План следующих действий

### 1) Синхронизация данных
- [ ] Спроектировать серверную/облачную модель (Google Drive API или Firestore).
- [ ] Реализовать двустороннюю синхронизацию с разрешением конфликтов.
- [ ] Добавить журнал изменений (change log) и инкрементальные обновления.

### 2) Совместная работа семьи
- [ ] Добавить приглашения участников в семейный бюджет по email/ссылке.
- [ ] Разграничить роли (владелец, редактор, просмотр).
- [ ] Логировать действия участников (кто и что изменил).

### 3) Контроль бюджета
- [x] Реализовать полноценные лимиты по категориям на месяц.
- [x] Добавить push/локальные уведомления о приближении и превышении лимитов.
- [x] Добавить регулярные отчёты (неделя/месяц) по расходам.

### 4) UX и стабильность
- [x] Улучшить пустые состояния для ключевых экранов (дашборд, транзакции, календарь, семья, платежи).
- [ ] Добавить onboarding и подсказки для первого запуска.
- [ ] Добавить офлайн-first обработку ошибок синхронизации.
- [ ] Покрыть ключевые сценарии тестами (unit + UI) и настроить CI-проверки.

### 5) Улучшение дизайна (UI refresh)
- [x] Составить план визуального обновления экранов (иерархия, отступы, карточки, единая типографика).
- [x] Внедрить базовый слой нового UI: AppBar, единые секции-карточки, улучшенные блоки сводки и отчётов.
- [x] Привести формы ввода к единому стилю (ширина полей, группировка действий, читаемые состояния пустых списков).
- [ ] Добавить адаптивные размеры/брейкпоинты для планшетов и landscape-режима.
- [ ] Добавить дизайн-токены (цвета/скругления/типографика) через выделенную тему Compose.

## Реализация плана по дизайну (что уже внедрено)

- Экран получил новый визуальный каркас: верхний `TopAppBar` + вкладки для стабильной навигации.
- Введён единый компонент `SectionCard` для консистентного отображения блоков на всех вкладках.
- Улучшено представление сводки бюджета, лимитов, отчётов и аналитики через переиспользуемые строки `SummaryRow`.
- Формы на вкладках «Транзакции», «Семья» и «Платежи» унифицированы: поля ввода на всю ширину, действия логически сгруппированы.
- Пустые состояния визуально выровнены через карточку с `surfaceVariant`, чтобы акцентировать подсказки и onboarding-поток без перегруза интерфейса.
